version: "3.2"
services:
  app:
    container_name: netguru-authentication
    image: node
    working_dir: /app
    tty: true
    ports:
      - published: ${APP_PORT:-3000}
        target: 3000
    volumes:
      - ./src:/app/src:ro
      - ./package.json:/app/package.json
      - ./package-lock.json:/app/package-lock.json
    environment:
      JWT_SECRET: ${JWT_SECRET}
    command: bash -c "npm i && npm start"
